# ADR-001: Standardization of TypeScript and LangGraph.js

**Status:** Updated / Accepted

**Date:** February 21, 2026

## 1. Context
Project Archi requires a robust orchestration layer to manage complex, multi-step agentic workflows. As a **Multi-Cloud Hybrid Serverless** system, we need a runtime that offers low cold-start latency on **AWS Lambda** and seamless integration with **Infrastructure as Code (IaC)**.

## 2. Decision
Standardize the entire application stack on **TypeScript**, utilizing **LangGraph.js** for AI orchestration and the **native Node.js 24.x runtime** for AWS Lambda.

## 3. Rationale
* **Unified Infrastructure as Code (IaC):** By using TypeScript, the **AWS CDK** infrastructure and the application logic share the same language, enabling shared type definitions and reducing deployment errors.
* **Optimal Serverless Performance:** Node.js on AWS Lambda provides faster cold starts and lower execution overhead for I/O-bound tasks compared to Python.
* **TDD and Hexagonal Synergy:** TypeScriptâ€™s robust interface system is essential for defining the **Ports** required for **Hexagonal Architecture** and mocking external services in **TDD (Vitest)**.
* **Full-Stack Type Safety:** Utilizing TypeScript across **Next.js (TanStack Query)** and the **Lambda** orchestrator ensures end-to-end data integrity.

## 4. Alternatives Considered
* **Python (LangGraph Python):** Rejected. Introduces complexity in serverless environments (slower cold starts) and requires managing separate toolchains.
* **Bun Runtime:** Considered for execution speed. **Rejected** for production in favor of **Node.js 24.x** to avoid the operational overhead of a Custom Runtime Layer and ensure 100% compatibility with standard CDK constructs.

## 5. Consequences
* **Positive:** High architectural cohesion; a single language manages the Frontend, AI, and Infrastructure.
* **Positive:** Streamlined CI/CD via a unified TypeScript toolchain.
* **Negative:** Prevents the use of Python-exclusive libraries; however, this is mitigated by the API-centric nature of Gemini 3 Flash and Supabase.
